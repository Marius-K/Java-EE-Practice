<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
<h:head/>
<h:body>
    <h1>Employee management system</h1>
    <table>
        <tr>
            <td style="font-weight: bold; font-size: 1.5em">
                Departments
            </td>
            <td style="font-weight: bold; font-size: 1.5em">
                Positions
            </td>
        </tr>
        <tr>
            <td>
                <ol>
                    <ui:repeat value="#{departmentsMyBatis.departmentList}" var="department">
                        <li><h:link value="#{department.name}" outcome="employees?departmentId=#{department.id}" /></li>
                    </ui:repeat>
                </ol>
            </td>
            <td>
                <ol>
                    <ui:repeat value="#{positions.positionList}" var="position">
                        <li>#{position.name}</li>
                    </ui:repeat>
                </ol>
            </td>
        </tr>
        <tr>
            <td>
                <h:form>
                    <h:inputText value="#{departmentsMyBatis.newDepartment.name}" required="true" />
                    <h:commandButton value="Create new department" actionListener="#{departmentsMyBatis.createDepartment}" action="index?faces-redirect=true"/>
                </h:form>
            </td>
            <td>
                <h:form>
                    <h:inputText value="#{positions.newPosition.name}" required="true" />
                    <h:commandButton value="Create new position" actionListener="#{positions.createPosition}" action="index?faces-redirect=true"/>
                </h:form>
            </td>
        </tr>
    </table>
    <h:link outcome="index" value="JPA version"/>
</h:body>
</html>
